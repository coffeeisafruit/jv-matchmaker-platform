{% extends "base.html" %}
{% load matching_filters %}

{% block title %}{{ profile.name }} - Partner Profile{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Back link -->
    <div class="mb-6">
        <a href="{% url 'matching:partners' %}" class="inline-flex items-center text-sm text-gray-500 hover:text-gray-700">
            <svg class="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
            Back to Partner Database
        </a>
    </div>

    <!-- Profile Header -->
    <div class="bg-white shadow rounded-lg overflow-hidden">
        <div class="px-6 py-8">
            <div class="sm:flex sm:items-start sm:justify-between">
                <div class="sm:flex sm:space-x-5">
                    <div class="flex-shrink-0">
                        {% if profile.avatar_url %}
                        <img class="mx-auto h-20 w-20 rounded-full object-cover" src="{{ profile.avatar_url }}" alt="">
                        {% else %}
                        <div class="mx-auto h-20 w-20 rounded-full bg-primary-100 flex items-center justify-center">
                            <span class="text-primary-700 font-bold text-2xl">{{ profile.name|slice:":2"|upper }}</span>
                        </div>
                        {% endif %}
                    </div>
                    <div class="mt-4 sm:mt-0 text-center sm:text-left">
                        <h1 class="text-2xl font-bold text-gray-900">{{ profile.name }}</h1>
                        {% if profile.company %}
                        <p class="text-lg text-gray-600">{{ profile.company }}</p>
                        {% endif %}
                        <div class="mt-2 flex flex-wrap gap-2 justify-center sm:justify-start">
                            <span class="inline-flex px-2 py-1 text-xs font-semibold rounded-full
                                {% if profile.status == 'Member' %}bg-green-100 text-green-800
                                {% elif profile.status == 'Non Member Resource' %}bg-blue-100 text-blue-800
                                {% else %}bg-yellow-100 text-yellow-800{% endif %}">
                                {{ profile.status }}
                            </span>
                            {% if profile.niche %}
                            <span class="inline-flex px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800">
                                {{ profile.niche }}
                            </span>
                            {% endif %}
                        </div>
                    </div>
                </div>
                <div class="mt-5 sm:mt-0 flex flex-col items-center sm:items-end space-y-2">
                    {% if profile.linkedin %}
                    <a href="{{ profile.linkedin }}" target="_blank" class="inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                        <svg class="mr-2 h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                        </svg>
                        LinkedIn
                    </a>
                    {% endif %}
                    {% if profile.website %}
                    <a href="{{ profile.website }}" target="_blank" class="inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                        <svg class="mr-2 h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"/>
                        </svg>
                        Website
                    </a>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Stats -->
        <div class="border-t border-gray-200 bg-gray-50 grid grid-cols-2 sm:grid-cols-4 divide-x divide-gray-200">
            <div class="px-6 py-4 text-center">
                <span class="block text-2xl font-semibold text-gray-900">{{ profile.list_size|default:0|floatformat:0 }}</span>
                <span class="text-sm text-gray-500">List Size</span>
            </div>
            <div class="px-6 py-4 text-center">
                <span class="block text-2xl font-semibold text-gray-900">{{ profile.social_reach|default:0|floatformat:0 }}</span>
                <span class="text-sm text-gray-500">Social Reach</span>
            </div>
            <div class="px-6 py-4 text-center">
                <span class="block text-2xl font-semibold text-gray-900">{{ matches_as_source|length }}</span>
                <span class="text-sm text-gray-500">Match Suggestions</span>
            </div>
            <div class="px-6 py-4 text-center">
                <span class="block text-sm font-medium text-gray-900">{{ profile.audience_type|default:"-" }}</span>
                <span class="text-sm text-gray-500">Audience Type</span>
            </div>
        </div>
    </div>

    <!-- Details Grid -->
    <div class="mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- About -->
        <div class="bg-white shadow rounded-lg p-6">
            <h2 class="text-lg font-medium text-gray-900 mb-4">About</h2>
            <dl class="space-y-5">
                {% if profile.bio %}
                <div>
                    <dt class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">Bio</dt>
                    <dd class="text-sm text-gray-700 leading-relaxed">{{ profile.bio }}</dd>
                </div>
                {% endif %}
                {% if profile.what_you_do %}
                <div>
                    <dt class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">What They Do</dt>
                    <dd class="text-sm text-gray-700 leading-relaxed">{{ profile.what_you_do }}</dd>
                </div>
                {% endif %}
                {% if profile.who_you_serve %}
                <div>
                    <dt class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">Who They Serve</dt>
                    <dd class="text-sm text-gray-700 leading-relaxed">{{ profile.who_you_serve }}</dd>
                </div>
                {% endif %}
                {% if profile.business_focus %}
                <div>
                    <dt class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">Business Focus</dt>
                    <dd class="flex flex-wrap gap-1.5">
                        {% for focus in profile.business_focus|split:", " %}
                        <span class="inline-flex px-2.5 py-1 text-xs font-medium rounded-full bg-blue-50 text-blue-700 border border-blue-100">{{ focus }}</span>
                        {% endfor %}
                    </dd>
                </div>
                {% endif %}
                {% if profile.service_provided %}
                <div>
                    <dt class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">Services Provided</dt>
                    <dd class="flex flex-wrap gap-1.5">
                        {% for service in profile.service_provided|split:", " %}
                        <span class="inline-flex px-2.5 py-1 text-xs font-medium rounded-full bg-green-50 text-green-700 border border-green-100">{{ service }}</span>
                        {% endfor %}
                    </dd>
                </div>
                {% endif %}
            </dl>
        </div>

        <!-- Partnership Info -->
        <div class="bg-white shadow rounded-lg p-6">
            <h2 class="text-lg font-medium text-gray-900 mb-4">Partnership Opportunities</h2>

            <!-- Dynamic Partnership Analysis -->
            {% if partnership_analysis %}
            <div class="mb-6 p-4 rounded-lg bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-100">
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center gap-2">
                        <!-- Tier Badge -->
                        {% if partnership_analysis.tier == 'hand_picked' %}
                        <div class="w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center">
                            <svg class="w-4 h-4 text-purple-600" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/>
                            </svg>
                        </div>
                        <span class="text-sm font-semibold text-purple-700">Hand-Picked Match</span>
                        {% elif partnership_analysis.tier == 'strong' %}
                        <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center">
                            <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                            </svg>
                        </div>
                        <span class="text-sm font-semibold text-blue-700">Strong Match</span>
                        {% else %}
                        <div class="w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center">
                            <svg class="w-4 h-4 text-yellow-600" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M13 10V3L4 14h7v7l9-11h-7z"/>
                            </svg>
                        </div>
                        <span class="text-sm font-semibold text-yellow-700">Potential Match</span>
                        {% endif %}
                    </div>
                    {% if partnership_analysis.score %}
                    <div class="text-right">
                        <span class="text-2xl font-bold text-purple-600">{{ partnership_analysis.score|floatformat:0 }}%</span>
                        <p class="text-xs text-gray-500">Match Score</p>
                    </div>
                    {% endif %}
                </div>

                {% if partnership_analysis.insights %}
                <div class="space-y-2 mb-4">
                    <p class="text-xs font-semibold text-gray-500 uppercase tracking-wide">Why This Match</p>
                    {% for insight in partnership_analysis.insights %}
                    <div class="flex items-start gap-3 p-2 bg-white rounded-lg">
                        <!-- Icon -->
                        {% if insight.icon == 'exchange' %}
                        <div class="w-6 h-6 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0">
                            <svg class="w-3 h-3 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"/>
                            </svg>
                        </div>
                        {% elif insight.icon == 'users' %}
                        <div class="w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0">
                            <svg class="w-3 h-3 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                        </div>
                        {% elif insight.icon == 'lightbulb' %}
                        <div class="w-6 h-6 rounded-full bg-yellow-100 flex items-center justify-center flex-shrink-0">
                            <svg class="w-3 h-3 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                            </svg>
                        </div>
                        {% elif insight.icon == 'balance' or insight.icon == 'trending-up' or insight.icon == 'gift' %}
                        <div class="w-6 h-6 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0">
                            <svg class="w-3 h-3 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"/>
                            </svg>
                        </div>
                        {% else %}
                        <div class="w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0">
                            <svg class="w-3 h-3 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                            </svg>
                        </div>
                        {% endif %}
                        <div>
                            <p class="text-sm font-medium text-gray-900">{{ insight.headline }}</p>
                            <p class="text-xs text-gray-500">{{ insight.detail }}</p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                {% endif %}

                {% if partnership_analysis.suggested_action %}
                <div class="pt-3 border-t border-purple-200">
                    <p class="text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1">Suggested Next Step</p>
                    <p class="text-sm font-medium text-purple-700">{{ partnership_analysis.suggested_action }}</p>
                </div>
                {% endif %}

                {% if partnership_analysis.conversation_starter %}
                <div class="mt-3 p-3 bg-white rounded-lg border border-gray-200">
                    <p class="text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1">Conversation Starter</p>
                    <p class="text-sm text-gray-700 italic">"{{ partnership_analysis.conversation_starter }}"</p>
                </div>
                {% endif %}

            </div>
            {% elif not icp %}
            <div class="mb-6 p-4 rounded-lg bg-gray-50 border border-gray-200">
                <p class="text-sm text-gray-600 mb-2">Create an ICP to see personalized partnership insights for this partner.</p>
                <a href="{% url 'positioning:icp_create' %}" class="text-sm text-blue-600 hover:text-blue-800 font-medium">Create ICP →</a>
            </div>
            {% endif %}

            <!-- Action Buttons - Always visible -->
            <div class="mb-6">
                {% if profile.email or profile.linkedin %}
                <div class="flex flex-col sm:flex-row gap-2">
                    {% if profile.email %}
                    <button onclick="openEmail()"
                            class="flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-apple-blue text-white text-sm font-medium rounded-lg hover:bg-blue-600 transition-colors">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                        </svg>
                        <span>Reach Out</span>
                    </button>
                    <script>
                    function openEmail() {
                        const email = '{{ profile.email|escapejs }}';
                        const partnerName = '{{ profile.name|escapejs }}';
                        const partnerFirstName = partnerName.split(' ')[0];

                        // Partner data
                        const partnerNiche = `{{ profile.niche|escapejs|default:"" }}`;
                        const partnerOffering = `{{ profile.offering|escapejs|default:"" }}`;
                        const partnerSeeking = `{{ profile.seeking|escapejs|default:"" }}`;
                        const partnerWhoTheyServe = `{{ profile.who_you_serve|escapejs|default:"" }}`;
                        const partnerListSize = {{ profile.list_size|default:0 }};

                        {% if partnership_analysis %}
                        const conversationStarter = `{{ partnership_analysis.conversation_starter|escapejs|default:"" }}`;
                        const suggestedAction = `{{ partnership_analysis.suggested_action|escapejs|default:"" }}`;
                        const matchTier = `{{ partnership_analysis.tier|escapejs|default:"potential" }}`;
                        const insights = [
                            {% for insight in partnership_analysis.insights %}{ headline: `{{ insight.headline|escapejs }}`, detail: `{{ insight.detail|escapejs }}` }{% if not forloop.last %},{% endif %}{% endfor %}
                        ];
                        {% else %}
                        const conversationStarter = '';
                        const suggestedAction = '';
                        const matchTier = 'potential';
                        const insights = [];
                        {% endif %}

                        // ICP data for context
                        {% if icp %}
                        const userIndustry = `{{ icp.industry|escapejs|default:"" }}`;
                        {% else %}
                        const userIndustry = '';
                        {% endif %}

                        // === MUTUAL BENEFIT VALUE PROPOSITION PATTERN ===
                        // Following Jordan Crawford's framework for JV partnerships

                        // Subject line based on match quality
                        let subject;
                        if (matchTier === 'hand_picked') {
                            subject = `Quick idea for ${partnerFirstName} - mutual win?`;
                        } else if (matchTier === 'strong') {
                            subject = `Collaboration idea - ${partnerNiche || 'your audience'}`;
                        } else {
                            subject = `Partnership thought - saw your work`;
                        }

                        // Build the value proposition email body
                        let body = `Hi ${partnerFirstName},\n\n`;

                        // 1. SPECIFIC OBSERVATION (not generic flattery)
                        if (partnerWhoTheyServe) {
                            body += `I noticed you're serving ${partnerWhoTheyServe}`;
                            if (partnerListSize > 1000) {
                                body += ` with an impressive reach of ${partnerListSize.toLocaleString()}+`;
                            }
                            body += `. `;
                        } else if (partnerNiche) {
                            body += `I've been following your work in the ${partnerNiche} space. `;
                        }

                        // 2. THE MUTUAL BENEFIT (clear what THEY get AND what YOU get)
                        const sharedAudienceInsight = insights.find(i => i.headline && i.headline.toLowerCase().includes('audience'));
                        const seekingOfferingInsight = insights.find(i => i.headline && (i.headline.toLowerCase().includes('offer') || i.headline.toLowerCase().includes('seeking')));

                        if (sharedAudienceInsight) {
                            body += `\n\n${sharedAudienceInsight.detail || sharedAudienceInsight.headline}\n\n`;
                            body += `Here's what I'm thinking:\n`;
                            body += `• For you: Access to my audience who would genuinely benefit from what you offer\n`;
                            body += `• For me: The chance to serve my people with your expertise\n`;
                        } else if (seekingOfferingInsight) {
                            body += `\n\n${seekingOfferingInsight.detail || seekingOfferingInsight.headline}\n\n`;
                            body += `I think there's a real opportunity here:\n`;
                            if (partnerSeeking) {
                                body += `• You mentioned looking for "${partnerSeeking.split(',')[0].trim()}" - I may be able to help\n`;
                            }
                            if (partnerOffering) {
                                body += `• Your expertise in ${partnerOffering.split(',')[0].trim()} is exactly what my audience needs\n`;
                            }
                        } else {
                            body += `\n\nI think our audiences could really benefit from each other's work.\n`;
                        }

                        // 3. CONVERSATION STARTER (specific, not generic)
                        if (conversationStarter) {
                            body += `\n${conversationStarter}\n`;
                        }

                        // 4. LOW-COMMITMENT FIRST STEP (soft CTA)
                        body += `\n`;
                        if (suggestedAction) {
                            body += `Would you be open to a quick 15-min call to explore ${suggestedAction.toLowerCase()}? No pitch, just seeing if there's a fit.\n`;
                        } else {
                            body += `Would you be open to a quick chat to see if there's a collaboration that makes sense for both of us?\n`;
                        }

                        body += `\nEither way, keep up the great work!\n\n`;
                        body += `Best,\n[Your Name]`;

                        const mailtoUrl = `mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;

                        // Try opening in a hidden iframe first
                        const iframe = document.createElement('iframe');
                        iframe.style.display = 'none';
                        iframe.src = mailtoUrl;
                        document.body.appendChild(iframe);

                        setTimeout(() => {
                            window.location.href = mailtoUrl;
                            document.body.removeChild(iframe);
                        }, 250);
                    }
                    </script>
                    {% endif %}
                    {% if profile.linkedin %}
                    <a href="{{ profile.linkedin }}" target="_blank"
                       class="flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                        </svg>
                        View LinkedIn
                    </a>
                    {% endif %}
                </div>
                {% else %}
                <div class="flex flex-col sm:flex-row gap-2">
                    <a href="https://www.linkedin.com/search/results/people/?keywords={{ profile.name|urlencode }}" target="_blank"
                       class="flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-apple-blue text-white text-sm font-medium rounded-lg hover:bg-blue-600 transition-colors">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
                        </svg>
                        Find on LinkedIn
                    </a>
                    <a href="https://www.google.com/search?q={{ profile.name|urlencode }}+{{ profile.niche|urlencode|default:'' }}" target="_blank"
                       class="flex-1 inline-flex items-center justify-center gap-2 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                        Search Online
                    </a>
                </div>
                {% endif %}
            </div>

            <dl class="space-y-5">
                {% if profile.seeking %}
                <div>
                    <dt class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">Seeking</dt>
                    <dd class="text-sm text-gray-700 leading-relaxed">{{ profile.seeking }}</dd>
                </div>
                {% endif %}
                {% if profile.offering %}
                <div>
                    <dt class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">Offering</dt>
                    <dd class="flex flex-wrap gap-1.5">
                        {% for item in profile.offering|split:", " %}
                        <span class="inline-flex px-2.5 py-1 text-xs font-medium rounded-full bg-purple-50 text-purple-700 border border-purple-100">{{ item }}</span>
                        {% endfor %}
                    </dd>
                </div>
                {% endif %}
                {% if profile.current_projects %}
                <div>
                    <dt class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">Current Projects</dt>
                    <dd class="flex flex-wrap gap-1.5">
                        {% for project in profile.current_projects|split:"; " %}
                        <span class="inline-flex px-2.5 py-1 text-xs font-medium rounded-full bg-amber-50 text-amber-700 border border-amber-100">{{ project }}</span>
                        {% endfor %}
                    </dd>
                </div>
                {% endif %}
                {% if profile.tags %}
                <div>
                    <dt class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">Tags</dt>
                    <dd class="flex flex-wrap gap-1.5">
                        {% for tag in profile.tags %}
                        <span class="inline-flex px-2.5 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-700 border border-gray-200">{{ tag }}</span>
                        {% endfor %}
                    </dd>
                </div>
                {% endif %}
            </dl>
        </div>
    </div>

    <!-- Contact Info -->
    {% if profile.email or profile.phone %}
    <div class="mt-6 bg-white shadow rounded-lg p-6">
        <h2 class="text-lg font-medium text-gray-900 mb-4">Contact Information</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            {% if profile.email %}
            <div class="flex items-center">
                <svg class="h-5 w-5 text-gray-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                </svg>
                <a href="mailto:{{ profile.email }}" class="text-primary-600 hover:text-primary-800">{{ profile.email }}</a>
            </div>
            {% endif %}
            {% if profile.phone %}
            <div class="flex items-center">
                <svg class="h-5 w-5 text-gray-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                </svg>
                <span class="text-gray-900">{{ profile.phone }}</span>
            </div>
            {% endif %}
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
